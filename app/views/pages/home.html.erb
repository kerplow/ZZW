<h1 class="text-center" id="title">ZZW</h1>
<p class="text-center">You'll never snot alone</p>
<% if @user %>
  <%= @user %>
<% else %>
  <p>not signed in yet</p>
<% end %>
<div class="row">

  <div class="noteboard col-md-4">
    <h3 class="text-center noteboard-header">
      Notifications
    </h3>
    <div class="well">
      <% @notes.each do |note| %>
        <%= render partial: "notes/show", locals: {note: note} %>
      <% end %>
      <div class="row" id="new-note-form">
        <%= button_tag "new note", id: "new-note-button", class:"btn", type: "button" %>
      </div>
    </div>
  </div>

  <div class="planner col-md-8">
    <div class="row">
      <div class="text-center"><h4 class="text-center">
        What's up this <select class="text-center" name="calendar-mode" id="calendar-mode">
        <option value="month">Month</option>
        <option value="week">Week</option>
        <option value="day">Day</option>
        </select>
      </h4>
      </div>
    </div>
    <div class="row">
      <div class="center">
        <%= month_calendar(events: @events, html: { class: "events" }) do |date, events| %>
          <%= date.day %>

          <% events.each do |event| %>
            <div class="event #{event.type}">
              <%= event.name %>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>
    <div class="row" id="new-event-form">
      <%= button_tag( "new event", id: "new-event-button", type: "button", class:"btn" ) %>
    </div>

  </div>
  <% content_for :document_ready do %>
    console.log("ready");
    $('#new-event-button').click( function(event) {
      event.preventDefault();
      $('#new-event-form').replaceWith('<%= j render partial: "planner_events/form", locals: {event: PlannerEvent.new} %>');
    });
    $('#new-note-button').click( function(event) {
      event.preventDefault();
      $('#new-note-form').replaceWith('<%= j render partial: "notes/form", locals: {note: Note.new} %>');
    });
  <% end %>
</div>
