<div class="navbar-wagon">

  <!-- Language flags -->
  <!-- extract page name from localized url: regex (yay!) for page part of the path (without directory or extension), then lookup page name from localized path -->
  <% page_name = t("reverse_paths.#{current_page.path[/\/([^\.\/]+)\./,1]}") %>
  <!-- create localized urls by looking up path names for page names, TODO: remove .html (google: :directory_index) -->
  <div>
    <% langs.each do |l| %>
      <% path_name = t("paths.#{page_name}", locale: l) %>
      <% link_to "/#{l}/#{path_name}.html", class: 'language-flag' do %>
        <%= image_tag "#{l}.png" %>
      <% end %>
    <% end %>
  </div>

  <!-- Right Navigation -->
  <!-- path names used as url and link name, looks nice and feels logical -->
  <div class="navbar-wagon-right hidden-xs hidden-sm">
    <% t(:paths).each do |page,path| %>
      <%= link_to path, "#{path}.html", class: "navbar-wagon-item navbar-wagon-link" %>
    <% end %>
  </div>


  <!-- Dropdown appearing on mobile only -->
  <!-- same as normal navigation, using lewagon navbar -->
  <div class="navbar-wagon-item hidden-md hidden-lg">
    <div class="dropdown">
      <i class="fa fa-bars dropdown-toggle" data-toggle="dropdown"></i>
      <ul class="dropdown-menu dropdown-menu-right navbar-wagon-dropdown-menu">
        <% t(:paths).each do |page,path| %>
          <li><%= link_to path, "#{path}.html" %></li>
        <% end %>
      </ul>
    </div>
  </div>
</div>